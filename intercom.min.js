var Intercom=function(){var n=function(n,t){return Intercom.channels[n]||(Intercom.channels[n]=[]),Intercom.channels[n].push({context:this,callback:t}),this},t=function(n){return Intercom.channels[n]?(delete Intercom.channels[n],this):!1},c=function(n){if(!Intercom.channels[n])return!1;for(var t=Array.prototype.slice.call(arguments,1),c=0,e=Intercom.channels[n].length;e>c;c++){var a=Intercom.channels[n][c];"function"==typeof a.callback?a.callback.apply(a.context,t):a.context[a.callback].apply(a.context,t)}return this};return{channels:{},listen:n,disconnect:t,broadcast:c,installOn:function(e){e.listen=n,e.disconnect=t,e.broadcast=c}}}();